import{j as e,L as k,r as c,P as p,a as A}from"./index-B-tDTjaq.js";import{H as v,a as V,L as x,I as g}from"./Input-BsGURtuS.js";import{G as I}from"./iconBase-CQ55rwBy.js";import{l as y,s as b}from"./toast-DjTw9dwF.js";const E="/advance-vending-machine/assets/logo-image-Dqzn5QMP.png";function B(){return e.jsxs("header",{className:"admin-header",children:[e.jsx("div",{className:"back-button",children:e.jsx(k,{to:"/login",className:"back-link",children:e.jsx(v,{})})}),e.jsxs("div",{className:"header-info",children:[e.jsx("div",{className:"logo-container",children:e.jsx("img",{src:E,alt:"ice cream image-logo",width:60})}),e.jsxs("div",{className:"title-container",children:[e.jsx("h1",{className:"title",children:"Admin Panel"}),e.jsx("p",{className:"subtitle",children:"Manage products"})]})]})]})}function C(s){return I({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(s)}function P({id:s,name:t,price:a,available:o,image:d}){const{products:n,setProducts:u}=c.useContext(p),m=h=>{y.confirmAlert({message:"Are you sure you want to delete this product?",buttons:[{label:"Yes",onClick:()=>{A.delete(`https://693d8bbef55f1be793032422.mockapi.io/api/products/products/${h}`).then(()=>{u(n.filter(i=>i.id!==h)),b("Success Deleted !")}).catch(i=>console.log("Error",i.message))}},{label:"No",onClick:()=>{}}]})},j=()=>{alert("This feature is not available yet")};return e.jsxs("tr",{className:"productItem",children:[e.jsxs("td",{className:"product-info",children:[e.jsx("div",{className:"product-image",children:e.jsx("img",{src:d,alt:"product-image",width:30})}),e.jsxs("div",{className:"product-details",children:[e.jsx("h3",{className:"product-name",children:t}),e.jsxs("p",{className:"product-status",children:["$",a," â€¢",e.jsx("span",{className:o?"green":"red",children:o?"In Stock":"Out of Stock"})]})]})]}),e.jsxs("td",{className:"product-actions",children:[e.jsx("button",{className:"edit-button",onClick:()=>j(),children:e.jsx(V,{})}),e.jsx("button",{className:"delete-button",onClick:()=>m(s),children:e.jsx(C,{})})]})]})}function U({openModal:s}){const{products:t}=c.useContext(p);return e.jsxs("section",{className:"products",children:[e.jsxs("header",{className:"products-header",children:[e.jsx("h2",{className:"products-title",children:"Products"}),e.jsx("button",{className:"add-product-button",onClick:()=>{s(!0)},children:"Add Product"})]}),e.jsx("table",{className:"products-table",children:e.jsx("tbody",{children:t.map(a=>e.jsx(P,{id:a.id,name:a.name,price:a.price,available:a.available,image:a.image},a.id))})})]})}const W="data:image/png;base64,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";function w({handleImage:s,imagePreview:t}){return e.jsxs(e.Fragment,{children:[e.jsx(x,{htmlFor:"image",text:"Upload Image"}),e.jsxs("div",{className:"upload-image-wrapper",children:[e.jsx("label",{htmlFor:"image",className:"upload-image-label",children:e.jsx("img",{src:t||W,alt:"upload image",width:80})}),e.jsx("input",{type:"file",id:"image",accept:"image/*",className:"upload-image-input",onChange:s})]})]})}function O({openModal:s}){const{products:t,setProducts:a}=c.useContext(p),[o,d]=c.useState(!1),[n,u]=c.useState({name:"",image:"",price:0,quantity:0}),m=i=>{const{id:r,value:l}=i.target;u({...n,[r]:r=="name"?l:+l})},j=async i=>{const r=i.target.files[0];if(!r)return;const l=new FormData;l.append("key","e217eac647ae1886f33113bcf4006735"),l.append("image",r);try{const N=(await A.post("https://api.imgbb.com/1/upload",l)).data;N.success?(u({...n,image:N.data.url}),d(!1)):console.log("Upload failed")}catch(f){console.error("Error uploading image:",f)}},h=()=>{if(n.image===""){d(!0);return}const r={id:t.length>0?t[t.length-1].id+1:1,name:n.name,image:n.image,price:n.price,quantity:n.quantity,available:!0};A.post("https://693d8bbef55f1be793032422.mockapi.io/api/products/products",r).then(()=>{a([...t,r]),b("Added successfully")}).catch(l=>console.log(l)),u({name:"",image:"",price:0,quantity:0}),s(!1),d(!1)};return e.jsxs("form",{className:"modal-form",onSubmit:i=>{i.preventDefault(),h()},children:[e.jsxs("div",{className:"upload-container",children:[e.jsx(w,{handleImage:j,imagePreview:n.image}),e.jsx("p",{className:`upload-warning ${o&&"show-upload-warning"}`,children:"Please select image!"})]}),e.jsx(x,{text:"Product Name"}),e.jsx(g,{type:"text",id:"name",handleInput:m}),e.jsx(x,{text:"Price"}),e.jsx(g,{type:"number",id:"price",min:1,handleInput:m}),e.jsx(x,{text:"Quantity"}),e.jsx(g,{type:"number",id:"quantity",min:1,handleInput:m}),e.jsx("footer",{className:"modal-footer",children:e.jsx("button",{type:"submit",className:"submit-btn",children:"Add Product"})})]})}function q(s){return I({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368 144 144m224 0L144 368"},child:[]}]})(s)}function M({openModal:s}){return e.jsx("div",{className:"overlay",onClick:()=>{s(!1)},children:e.jsxs("div",{className:"modal",onClick:t=>t.stopPropagation(),children:[e.jsxs("header",{className:"modal-header",children:[e.jsx("h3",{className:"modal-title",children:"Add New Product"}),e.jsx("button",{className:"modal-close",onClick:()=>s(!1),children:e.jsx(q,{})})]}),e.jsx(O,{openModal:s})]})})}function Q({title:s}){const{products:t}=c.useContext(p),a=()=>s==="Out of Stock"?t.filter(o=>!o.available).length:s==="Available"?t.filter(o=>o.available).length:t.length;return e.jsxs("article",{className:"counterBox",children:[e.jsx("h2",{className:"counterBox-title",children:s}),e.jsx("p",{className:`counterBox-quantity ${s==="Available"?"green":s==="Out of Stock"?"red":null}`,children:a()})]})}const R=["Total Products","Available","Out of Stock"];function L(){return e.jsx("section",{className:"counter-section",children:R.map((s,t)=>e.jsx(Q,{title:s},t))})}function K(){const[s,t]=c.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(B,{}),e.jsxs("main",{className:"admin-container",children:[e.jsx(L,{}),e.jsx(U,{openModal:t})]}),s&&e.jsx(M,{openModal:t})]})}export{K as default};
